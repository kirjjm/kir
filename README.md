Цель работы: Освоить принципы построения лексеров, парсеров и систем трансляции,
а также научиться преобразовывать учебный конфигурационный язык (вариант 28)
в структурированный формат YAML.

Задачи:
1. Разработать грамматику учебного конфигурационного языка.
2. Реализовать лексер (разбиение текста на токены).
3. Реализовать парсер (построение структуры данных и обработка констант).
4. Реализовать подстановку констант вида `var NAME value` и вычисление константных выражений `^[ ... ]`.
5. Преобразовать полученную структуру в YAML.
6. Добавить обработку синтаксических ошибок с выводом информативных сообщений.
7. Добавить красивый форматированный вывод YAML.
8. Провести тестирование на нескольких конфигурационных файлах.

Используемые технологии:
1. Python 3.13
2. Регулярные выражения: модуль `re`
3. Формирование YAML: собственная функция `to_yaml()`
4. Работа через терминал (Windows + PyCharm)
5. Файл программы `main.py`
6. Вариант 28

Полная реализация включает:
1. функцию `tokenize()` — разбор текста на токены (ключевые слова, числа, строки, скобки, служебные символы);
2. класс `Parser` — синтаксический анализ языка и построение вложенных словарей и списков;
3. обработку констант: выделение строк `var NAME value` и вычисление константных выражений в постфиксной форме `^[ ... ]` с операциями `+`, `pow()`, `print()`;
4. функцию `to_yaml()` — преобразование произвольного значения (словарь, список, скаляр) в форматированный YAML;
5. модуль `translate_text()` / `translate_file()` — полный цикл «текст конфигурации → внутренняя структура → YAML-строка»;
6. функцию `main()` для работы через командную строку (аргументы `-i`, `-o`, `--run-tests`) и функцию `run_tests()` для автоматического тестирования.

Тесты:
--> Программа для запуска:
– запуск встроенных тестов:
`python main.py --run-tests`
– перевод конфигурации веб-сервера (`dom`):
`python main.py -i dom -o dom.yaml`
– перевод игрового конфига (`game`):
`python main.py -i game -o game.yaml`
– перевод конфига базы данных (`base`):
`python main.py -i base -o base.yaml`

– проверка конфигурации с ошибкой (`error_test.conf`):
`python main.py -i error_test.conf -o error_out.yaml`

1. `dom` — конфигурация веб-сервера (порт, хост, логирование, использование констант и константных выражений);
2. `game` — игровой конфиг (игрок, инвентарь, список врагов, константы `var` и выражения `^[ ... ]`);
3. `base` — конфигурация базы данных (параметры подключения, список реплик и т.п.);
4. `error_test` — конфиг с преднамеренной синтаксической ошибкой для проверки обработки ошибок.

Вывод:
В ходе выполнения работы был разработан полноценный транслятор учебного конфигурационного языка в формат YAML.
Программа:
1. корректно разбирает пользовательский язык (числа, строки, комментарии, массивы, словари, константы);
2. поддерживает вложенные словари и списки, а также вычисление константных выражений на этапе трансляции;
3. выводит форматированный YAML, удобный для дальнейшей обработки;
4. обрабатывает синтаксические ошибки и выводит информативные сообщения при некорректном вводе;
5. демонстрирует принципы создания простых языков описания конфигураций, лексеров, парсеров и систем трансляции.

